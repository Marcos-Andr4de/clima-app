<ion-content class="bacc" [fullscreen]="true">
  <ion-menu contentId="main-content">
    <ion-header>
      <ion-toolbar>
        <ion-title>Menu</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <div style="text-align: center;margin: 15px">
        <!--<ion-title>{{user}}</ion-title>-->
        <ion-button (click)="logout()">Sair</ion-button>
      </div>
      <div class="authors">
        <p>
          By: Marcos Andrade, Rafael Godinho
        </p>
      </div>
    </ion-content>
  </ion-menu>
  <div class="ion-page" id="main-content">
    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title class="titleMenu">App Clima</ion-title>
      </ion-toolbar>
    </ion-header>
    
  </div>
  <br><br><br><br>
  <ion-searchbar [(ngModel)]="cityName" (ngModelChange)="loadData()" placeholder="Pesquise a cidade" class="searchBar" animated></ion-searchbar>

  <div *ngIf="!loading">
  <ion-card class="cardStyle">
    <ion-item lines="none">
      <p style="font-weight: 600; color: white">Data de hoje:</p>
      <ion-label id="date" slot="end">{{todayDate | date: "EEE dd MMM" }}</ion-label>
    </ion-item>

    <ion-item lines="none">
      <span id="temp">
        {{(weatherTemp?.temp - 273.15).toFixed(0)}}
      </span>
      <span style="font-size: 1.4em; font-weight: bold; color: orange; margin-bottom: 26px;">°</span>
      <img slot="end" width="175px" height="175px" [src]="weatherIcon">
    </ion-item>

    <ion-item>
      <ion-icon id="locationIcon" name="location"></ion-icon>
      <span>{{cityName}}</span>
    </ion-item>
  </ion-card>



  <ion-card class="cardStyle">
    <ion-item>
      <span>Temperatura Máxima</span>
      <span slot="end">{{(weatherTemp.temp_max - 273.15).toFixed(0)}}</span>
    </ion-item>

    <ion-item>
      <span>Temperatura Mínima</span>
      <span slot="end">{{(weatherTemp.temp_min - 273.15).toFixed(0)}}</span>
    </ion-item>

    <ion-item>
      <span>Humidade</span>
      <span slot="end">{{weatherTemp.humidity}}%</span>
    </ion-item>


  </ion-card>
  </div>

<div *ngIf="loading">
  <img src="../../assets/nodata.png" class="erroImg" alt="sem resultados">
  <p style="text-align: center;"><span class="spanErro">Sem resultados</span></p>
  <br><br><br><br><br><br><br>

</div>



</ion-content>


